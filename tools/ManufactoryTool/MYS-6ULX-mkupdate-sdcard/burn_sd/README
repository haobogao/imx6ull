# Build Update SD Card for MYS-6ULX board

The build-sdcard.sh script used to generate a system image that contains update system and update target files.
The firmware directory used for the system of the update.Generally, you do not modify it otherwise your NAND flash or other BSP code changed.

Below example is build-sdcard.sh usage：

```
sudo ./build-sdcard.sh -p mys6ul -n -d mfgimages-mys-imx6ul-ddr256m-nand256m
```
-p argument only has two option "mys6ul" and "mys6ull".
-n means use NAND flash type.Also, you can use '-e' means use eMMC flash type. The '-n' and '-e' not both exist as arguments.
-d means needs target file of the update.Those files will be written into the flash of the board.


The "mfgimages-*" directory store need update files.Those files name are defined in 'Manifest' file, please follow below rules:

```
ubootfile="u-boot.imx"
envfile="boot.scr"
kernelfile="zImage"
dtbfile="mys-imx6ull-14x14-evk-emmc.dtb"
rootfsfile="core-image-base.rootfs.tar.xz"
```
The 'envfile' variable only used for eMMC flash type.
The update program will read the Manifest file and load those files be written into flash.


The MYS-6ULX boards have already supported four folders.

The "mfgimages-mys-imx6ul-ddr256m-nand256m" contains files of MYS-6ULX-IND with DDR 256MB NAND 256MB. 
The "mfgimages-mys-imx6ulL-ddr256m-nand256m" contains files of MYS-6ULX-IoT with DDR 256MB NAND 256MB.
The "mfgimages-mys-imx6ull-ddr512m-emmc4g" contains files of MYS-6ULX-IoT with DDR 512MB NAND 512MB.
The "mfgimages-mys-imx6ul-ddr512m-emmc4g" contains files of MYS-6ULX-IND with DDR 512MB NAND 512MB.

# 制做更新系统的SD卡镜像

build-sdcard.sh脚本用于制做从SD卡更新系统的镜像，分为两个部分：更新系统和目标文件。firmware目录下是更新系统，一般情况下不需要修改。'mfgimages-*'是目标文件，里面的文件最终会烧写进板载的NAND或者eMMC存储芯片内。如果修改u-boot, kernel后，需要把相应的文件替换到目标文件内即可。

build-sdcard.sh的用法如下：

```
sudo ./build-sdcard.sh -p mys6ul -n -d mfgimages-mys-imx6ul-ddr256m-nand256m
```
-p后面的参数名称只有丙种"mys6ul"和"mys6ull"。

'mfgimage-*'目录内的文件名遵循以下方式命令，其它的名称更新系统中的更新脚本不会识别，会出现升级失败。这些文件的名称被定义在Manifest文件内，命名规则如下：

```
ubootfile="u-boot.imx"
envfile="boot.scr"
kernelfile="zImage"
dtbfile="mys-imx6ull-14x14-evk-emmc.dtb"
rootfsfile="core-image-base.rootfs.tar.xz"
```
变量'envfile' 仅用于eMMC版本。
更新程序启动后会根据Manifest文件加载需要的文件，以将它们写入到目标Flash。


MYS-6ULX 开发板提供了四种镜像：

"mfgimages-mys-imx6ul-ddr256m-nand256m" 用于MYS-6ULX-IND 的 DDR 256MB NAND 256MB 配置版本
"mfgimages-mys-imx6ulL-ddr256m-nand256m" 用于 MYS-6ULX-IoT 的 DDR 256MB NAND 256MB 配置版本
"mfgimages-mys-imx6ull-ddr512m-emmc4g" 用于 MYS-6ULX-IoT 的 DDR 512MB NAND 512MB配置版本
"mfgimages-mys-imx6ul-ddr512m-emmc4g" 用于 MYS-6ULX-IND 的 DDR 512MB NAND 512MB配置版本

